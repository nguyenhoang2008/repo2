<!DOCTYPE html>
<html lang="vi">
<head>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: ['$$', '$$'], ['\\[', '\\]']
        },
        svg: {
          fontCache: 'global'
        }
      };
    </script>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz App - Tr·∫Øc Nghi·ªám Offline</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="loadingScreen" class="page active" style="display: flex; justify-content: center; align-items: center; height: 100vh;">
        <div style="text-align: center;">
            <div class="main-title" style="font-size: 2rem;">üß† TitZiy Loading...</div>
            <p style="color: var(--text-secondary);">ƒêang t·∫£i c·∫•u h√¨nh v√† d·ªØ li·ªáu b√†i thi...</p>
        </div>
    </div>
    
    <div id="page1" class="page" style="display: none;">
        <div class="container">
            <div class="card info-section">
                <div class="main-title">üåü B·∫Øt ƒê·∫ßu Tr·∫Øc Nghi·ªám!</div>
                <div class="info-content">
                    <p>‚Ä¢ Website ƒë∆∞·ª£c t·∫°o ra cho t·∫≠p th·ªÉ l·ªõp 11A1!</p>
                    <p>‚Ä¢ D·ªØ li·ªáu c√¢u h·ªèi ƒë∆∞·ª£c l∆∞u c·ª•c b·ªô tr√™n thi·∫øt b·ªã c·ªßa b·∫°n.</p>
                </div>
            </div>

            <div class="card user-settings-section">
                <div class="input-group">
                    <label for="userNameInput">‚úçÔ∏è Nh·∫≠p T√™n C·ªßa B·∫°n:</label>
                    <input type="text" id="userNameInput" placeholder="V√≠ d·ª•: Quang Nguy·ªÖn" value="">
                </div>
                
                <div class="subject-list-container">
                    <h3>üìö Ch·ªçn M√¥n H·ªçc</h3>
                    <div id="subjectList">
                        </div>
                </div>

                <div class="settings-controls">
                    <label>
                        <input type="checkbox" id="shuffleAnswers">
                        üîÄ X√°o Tr·ªôn ƒê√°p √Ån (A, B, C, D)
                    </label>
                    <button id="startQuizBtn" class="btn btn-primary btn-icon">
                        üöÄ B·∫ÆT ƒê·∫¶U THI
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="page2" class="page" style="display: none;">
        <div class="header-quiz">
            <div class="container">
                <div class="quiz-header-content">
                    <div class="quiz-info">
                        <h4 id="quizTitle"></h4>
                        <p>Th√≠ sinh: <span id="currentUserName"></span></p>
                    </div>
                    <div class="quiz-status">
                        <p>C√¢u h·ªèi: <span id="currentQuestionNumber"></span> / <span id="totalQuestions"></span></p>
                    </div>
                </div>
                <div id="progressBar">
                    <div id="progressFill"></div>
                </div>
            </div>
        </div>
        
        <div class="container">
            <div class="card question-card">
                <div id="questionSection" class="question-section">
                    <div id="questionText" class="question-text">
                        </div>
                    
                    <div id="optionsContainer" style="display: block;">
                        </div>
                    
                    <div id="shortAnswerContainer" class="short-answer-group" style="display: none;">
                        <input type="text" id="shortAnswerInput" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n">
                    </div>

                    <div id="trueFalseContainer" class="true-false-set-group" style="display: none;">
                        </div>
                </div>
            </div>
            
            <div class="quiz-navigation">
                <button id="prevBtn" class="btn btn-secondary btn-icon" disabled>
                    ‚èÆÔ∏è C√¢u Tr∆∞·ªõc
                </button>
                <button id="nextBtn" class="btn btn-primary btn-icon">
                    C√¢u Ti·∫øp Theo ‚è≠Ô∏è
                </button>
            </div>
        </div>
    </div>

    <div id="page3" class="page" style="display: none;">
        <div class="container">
            <div class="card result-card">
                <div class="result-header">
                    <h2>üìä K·∫æT QU·∫¢ B√ÄI THI</h2>
                    <p>ƒêi·ªÉm s·ªë:</p>
                    <div id="finalScore" class="score-text"></div>
                </div>
                
                <div class="result-stats">
                    <div class="stat-item">
                        <span>T·ªïng s·ªë c√¢u h·ªèi:</span>
                        <span id="totalQsStat" class="stat-value total"></span>
                    </div>
                    <div class="stat-item">
                        <span>S·ªë c√¢u tr·∫£ l·ªùi ƒë√∫ng:</span>
                        <span id="correctQsStat" class="stat-value correct"></span>
                    </div>
                    <div class="stat-item">
                        <span>S·ªë c√¢u tr·∫£ l·ªùi sai:</span>
                        <span id="wrongQsStat" class="stat-value wrong"></span>
                    </div>
                </div>
                
                <div class="result-actions">
                    <button class="btn btn-secondary btn-icon" onclick="restartQuiz()">
                        üîÑ L√ÄM L·∫†I B√ÄI N√ÄY
                    </button>
                    <button class="btn btn-primary btn-icon" onclick="newQuiz()">
                        üìù B√ÄI KI·ªÇM TRA M·ªöI
                    </button>
                </div>
                
                <div id="resultDetails">
                    <h3>üîç Chi Ti·∫øt K·∫øt Qu·∫£</h3>
                    </div>
            </div>
        </div>
    </div>

    <div id="questionDetailModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Chi Ti·∫øt C√¢u H·ªèi <span id="detailQuestionIndex"></span></h3>
                <span class="close-btn" onclick="closeModal('questionDetailModal')">&times;</span>
            </div>
            
            <div class="modal-body">
                <div id="detailQuestionText" class="detail-question-text"></div>
                
                <div class="detail-options-mc">
                    <div class="detail-option" data-option="A">
                        <span class="option-letter">A.</span>
                        <span id="detailOptionA" class="option-text"></span>
                    </div>
                    <div class="detail-option" data-option="B">
                        <span class="option-letter">B.</span>
                        <span id="detailOptionB" class="option-text"></span>
                    </div>
                    <div class="detail-option" data-option="C">
                        <span class="option-letter">C.</span>
                        <span id="detailOptionC" class="option-text"></span>
                    </div>
                    <div class="detail-option" data-option="D">
                        <span class="option-letter">D.</span>
                        <span id="detailOptionD" class="option-text"></span>
                    </div>
                </div>
                
                <div class="detail-short-answer" style="display: none;">
                    </div>
                
                <div class="detail-true-false" style="display: none;">
                    </div>
                
                <div class="detail-result">
                    <div class="result-info">
                        <div class="user-choice">
                            <span>ƒê√°p √°n b·∫°n ch·ªçn: </span>
                            <span id="detailUserChoice" class="choice-value"></span>
                        </div>
                        <div class="correct-answer">
                            <span>ƒê√°p √°n ƒë√∫ng: </span>
                            <span id="detailCorrectAnswer" class="answer-value"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="subjectSettingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="settingsModalTitle">C√†i ƒë·∫∑t M√¥n h·ªçc</h3>
                <span class="close-btn" onclick="closeModal('subjectSettingsModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="settings-controls">
                    <label>
                        <input type="checkbox" id="shuffleQuestionsSetting">
                        üîÄ X√°o Tr·ªôn Th·ª© T·ª± C√¢u H·ªèi
                    </label>
                </div>
                
                <h4>üìù Ch·ªçn D·∫°ng C√¢u H·ªèi</h4>
                <div class="question-type-section">
                    <div class="type-header">
                        <h4>‚≠ê C√¢u h·ªèi Tr·∫Øc nghi·ªám</h4>
                        <button class="btn-small" onclick="toggleAllMultipleChoice()">
                            Ch·ªçn/b·ªè t·∫•t c·∫£
                        </button>
                    </div>
                    <div id="multipleChoiceList" class="question-list">
                        </div>
                </div>
                
                <div class="question-type-section">
                    <div class="type-header">
                        <h4>üìù C√¢u h·ªèi tr·∫£ l·ªùi ng·∫Øn</h4>
                        <button class="btn-small" onclick="toggleAllShortAnswer()">
                            Ch·ªçn/b·ªè t·∫•t c·∫£
                        </button>
                    </div>
                    <div id="shortAnswerList" class="question-list">
                        </div>
                </div>
                
                <div class="question-type-section">
                    <div class="type-header">
                        <h4>üîµ C√¢u h·ªèi ƒê√∫ng/Sai</h4>
                        <button class="btn-small" onclick="toggleAllTrueFalse()">
                            Ch·ªçn/b·ªè t·∫•t c·∫£
                        </button>
                    </div>
                    <div id="trueFalseList" class="question-list">
                        </div>
                </div>
                
                <div class="settings-actions" style="margin-top: 20px; display: flex; justify-content: flex-end; gap: 10px;">
                    <button class="btn btn-secondary" onclick="closeSubjectSettings()">
                        H·ªßy
                    </button>
                    <button class="btn btn-primary" onclick="saveSubjectSettings()">
                        üíæ L∆∞u c√†i ƒë·∫∑t
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
